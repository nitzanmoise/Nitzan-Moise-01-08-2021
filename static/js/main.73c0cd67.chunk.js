(this.webpackJsonpheroweather=this.webpackJsonpheroweather||[]).push([[0],{78:function(e,t,r){},82:function(e,t,r){},87:function(e,t,r){"use strict";r.r(t);var c=r(0),a=r.n(c),n=r(13),i=r.n(n),o=(r(78),r(25)),s=r(20),l=(r(82),r(109)),j=r(111),u=r(112),d=r(21),h=r(107),b=r(2),O=Object(h.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},barWeapper:{display:"flex",justifyContent:"space-between"}}})),f=function(){var e=O();return Object(b.jsx)("div",{className:"NavBar",children:Object(b.jsx)(l.a,{position:"static",children:Object(b.jsxs)(j.a,{className:e.barWeapper,children:[Object(b.jsx)(d.b,{to:"/",children:Object(b.jsx)("h3",{children:"Heoloweather"})}),Object(b.jsxs)("div",{children:[Object(b.jsx)(d.b,{to:"/",children:Object(b.jsx)(u.a,{children:"Weather"})}),Object(b.jsx)(d.b,{to:"/favorites",children:Object(b.jsx)(u.a,{children:"Favorites"})})]})]})})})},m=r(116),x="FETCH_USERS_REQUEST",y="FETCH_USERS_SUCCESS",p="FETCH_USERS_FAILURE",v="FETCH_CITY_REQUEST",g="FETCH_CITY_SUCCESS",S="FETCH_CITY_FAILURE",w="FETCH_WEEEKLY_REQUEST",C="FETCH_WEEKLY_SUCCESS",E="FETCH_WEEKLY_FAILURE",N="UPDATE_CURRENT_LOCATION",T="ADD_TO_FAVORITES",F="REMOVE_FROM_FAVORITES",W="gHA6iqGvA52XLn2GWhVSUTrPWIMmHqzB",k=function(e){var t="?apikey=".concat(W,"&q=").concat(e);return function(r){r(R()),fetch("http://dataservice.accuweather.com/locations/v1/cities/autocomplete"+t).then((function(e){return e.json()})).then((function(e){var t=e[0],c=JSON.stringify(t);localStorage.setItem("city",c),r(U(t)),r(_(t.Key))})).catch((function(t){r(A(t.message)),r(_(e.Key))}))}},_=function(e){var t="".concat(e,"?apikey=").concat(W);return function(r){r(L()),fetch("http://dataservice.accuweather.com/currentconditions/v1/"+t).then((function(e){return e.json()})).then((function(t){var c=t[0],a=JSON.stringify(c);localStorage.setItem("weather",a),r(M(c)),r(I(e))})).catch((function(t){r(B(e)),r(I(e))}))}},I=function(e){var t="".concat(e,"?apikey=").concat(W);return function(e){e(H()),fetch("http://dataservice.accuweather.com/forecasts/v1/daily/5day/"+t).then((function(e){return e.json()})).then((function(t){var r=JSON.stringify(t);localStorage.setItem("weekly",r),e(D(t)),e(K())})).catch((function(t){e(z(t.message)),e(K())}))}},R=function(){return{type:v}},U=function(e){return{type:g,payload:e}},A=function(e){var t=JSON.parse(localStorage.getItem("city"));return{type:S,payload:t}},L=function(){return{type:x}},M=function(e){return{type:y,payload:e}},B=function(e){var t=JSON.parse(localStorage.getItem("weather"));return _(e),{type:p,payload:t}},H=function(){return{type:w}},D=function(e){return{type:C,payload:e}},z=function(e){var t=JSON.parse(localStorage.getItem("weekly"));return{type:E,payload:t}},K=function(){return{type:N}},J=function(e){return{type:F,payload:e}},V=r(29),Y=r.n(V),q=r(113),G=r(114),Q=r(115),P=Object(h.a)({root:{minWidth:105,width:"150px",margin:"10px"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}});var X=function(e){var t=e.day,r=e.index,a=P(),n=Object(c.useState)(""),i=Object(s.a)(n,2),o=i[0],l=i[1],j=Object(c.useState)(!0),d=Object(s.a)(j,2),h=d[0],O=d[1],f=Object(c.useState)(""),m=Object(s.a)(f,2),x=m[0],y=m[1],p=["Monday","Tuesday","Wednesday","Thursday","Friday"],v=function(e){return Math.floor(5*(e-32)/9)};return Object(c.useEffect)((function(){var e=t.Temperature.Maximum.Value,c=p.filter((function(e,t){return t===r}));l(v(e)),y(c)}),[]),Object(b.jsx)("div",{children:Object(b.jsx)(q.a,{className:a.root,children:Object(b.jsxs)(G.a,{children:[Object(b.jsx)(Q.a,{className:a.title,color:"textSecondary",gutterBottom:!0,children:x}),Object(b.jsxs)(Q.a,{className:a.title,color:"textSecondary",gutterBottom:!0,children:[o,h?"C":"F"]}),Object(b.jsx)(u.a,{onClick:function(){var e;h?(l((e=o,Math.floor(9*e/5+32))),O(!1)):(l(v(o)),O(!0))},color:"primary",children:h?"Ferenite":"Celsius"})]})})})};var Z=Object(o.b)((function(e){return{wetherData:e.weather}}),(function(e){return{fetchCity:function(t){return e(k(t))},addToFavorites:function(t){return e(function(e){return{type:T,payload:e}}(t))},removeFromFavorites:function(t){return e(J(t))}}}))((function(e){var t=e.wetherData,r=e.addToFavorites,a=e.removeFromFavorites,n=Object(c.useState)(!1),i=Object(s.a)(n,2),o=i[0],l=i[1];return Object(b.jsx)("div",{children:Object(b.jsx)(m.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",spacing:3,children:Object(b.jsxs)("div",{className:"weather-panal",children:[Object(b.jsxs)("header",{children:[Object(b.jsxs)("section",{children:[Object(b.jsx)("h3",{children:t.location.city.LocalizedName}),Object(b.jsxs)("p",{children:[t.location.currWeather.Temperature.Metric.Value,t.location.currWeather.Temperature.Metric.Unit]})]}),Object(b.jsxs)("section",{children:[Object(b.jsx)(Y.a,{style:{color:o?"gold":"black"},className:"heart"}),Object(b.jsx)(u.a,{onClick:function(){o?(l(!1),a(t.location)):(l(!0),r(t.location))},size:"medium",children:o?"Remove from favorites":"Add to favorites"})]})]}),Object(b.jsx)("h1",{children:t.location.currWeather.WeatherText}),Object(b.jsx)("div",{className:"daily-list",children:Object(b.jsx)(m.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",spacing:3,children:t.location.weeklyWeather.DailyForecasts.map((function(e,t){return Object(b.jsx)(X,{day:e,index:t},t)}))})})]})})})})),$=r(61),ee=r.n($),te=r(120);var re=Object(o.b)((function(e){return{wetherData:e.weather}}),(function(e){return{fetchCity:function(t){return e(k(t))}}}))((function(e){var t=e.fetchCity,r=e.wetherData,a=Object(c.useState)(""),n=Object(s.a)(a,2),i=n[0],o=n[1],l=Object(c.useState)(!1),j=Object(s.a)(l,2),u=j[0],d=j[1];function h(e){var c=e.target.value;c=c.replace(/[^A-Za-z]/gi,""),o(c),t(e.target.value),r.error&&d(!0)}return Object(c.useEffect)((function(){""===r.city.Key&&t("Tel Aviv")}),[]),Object(b.jsxs)("div",{className:"Weather",children:[Object(b.jsxs)(m.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",spacing:3,children:[Object(b.jsx)(m.a,{item:!0,xs:12,children:Object(b.jsx)("h1",{className:"weather-title",children:"Search for locations"})}),Object(b.jsxs)(m.a,{item:!0,xs:12,children:[Object(b.jsx)("input",{type:"text",placeholder:"Search..",name:"search",value:i,onChange:h}),Object(b.jsx)("button",{onClick:h,children:Object(b.jsx)(ee.a,{className:"search"})})]})]})," ",Object(b.jsx)(Z,{}),Object(b.jsx)(te.a,{open:u,onClose:function(){d(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(b.jsx)("div",{className:"modal-panal",children:Object(b.jsx)("p",{children:"No more api requests left, wait for tomorrow"})})})]})})),ce=r(117),ae=r(62),ne=r.n(ae),ie=Object(h.a)({root:{minWidth:175,width:100,margin:"10px"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}});var oe=Object(o.b)((function(e){return{wetherData:e.weather}}),(function(e){return{removeFromFavorites:function(t){return e(J(t))},fetchCity:function(t){return e(k(t))}}}))((function(e){var t=e.wetherData,r=e.removeFromFavorites,c=ie();return Object(b.jsx)("div",{children:Object(b.jsx)(m.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:t.favorites.length>0&&t.favorites.map((function(e,t){return Object(b.jsxs)(q.a,{className:c.root,children:[Object(b.jsxs)("div",{className:"fav-header",children:[Object(b.jsx)(Y.a,{className:"heart"}),Object(b.jsx)(d.b,{className:"arrow-link",to:"/",children:Object(b.jsx)(ne.a,{onClick:function(){return function(e){k(e.city.LocalizedName)}(e)}})})]}),Object(b.jsxs)(G.a,{children:[Object(b.jsxs)(Q.a,{className:c.title,color:"textSecondary",gutterBottom:!0,children:["City: ",e.city.LocalizedName]}),Object(b.jsxs)(Q.a,{className:c.title,color:"textSecondary",gutterBottom:!0,children:["Id: ",e.id]}),Object(b.jsxs)(Q.a,{className:c.title,color:"textSecondary",gutterBottom:!0,children:["Temperature: ",e.currWeather.Temperature.Metric.Value," ",e.currWeather.Temperature.Metric.Unit]})]}),Object(b.jsx)(ce.a,{children:Object(b.jsx)(u.a,{onClick:function(){return function(e){r(e),console.log("in remove loc")}(e)},size:"medium",children:"Remove from favorites"})})]},t)}))})})}));var se=function(){return Object(b.jsxs)("div",{className:"Favorites",children:[Object(b.jsx)(m.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",spacing:3,children:Object(b.jsx)(m.a,{item:!0,xs:12,children:Object(b.jsx)("h1",{children:"Favorites"})})}),Object(b.jsx)(oe,{})]})},le=r(8),je=r(118),ue=r(119),de=r(63),he=r.n(de),be=Object(h.a)({root:{width:"100%",background:"#3f51b5",marginTop:"170px",position:"fixed",bottom:0},link:{color:"white",background:"none"}});var Oe=function(){var e=be(),t=a.a.useState(0),r=Object(s.a)(t,2),c=r[0],n=r[1];return Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)(d.a,{children:[Object(b.jsx)(f,{}),Object(b.jsxs)(le.c,{children:[Object(b.jsx)(le.a,{path:"/favorites",children:Object(b.jsx)(se,{})}),Object(b.jsx)(le.a,{path:"/",children:Object(b.jsx)(re,{})})]}),Object(b.jsxs)(je.a,{value:c,onChange:function(e,t){n(t)},showLabels:!0,className:e.root,children:[Object(b.jsx)(d.b,{to:"/",children:Object(b.jsx)(ue.a,{className:e.link,icon:Object(b.jsx)(he.a,{}),inkBarStyle:{background:"white"}})}),Object(b.jsx)(d.b,{to:"/favorites",children:Object(b.jsx)(ue.a,{className:e.link,icon:Object(b.jsx)(Y.a,{})})})]})," "]})})},fe=r(37),me=r(54),xe=r(7),ye={loading:!1,city:{Key:""},location:{city:{Key:"",LocalizedName:""},currWeather:{WeatherText:"",Temperature:{Metric:{Value:"",Unit:""}}},weeklyWeather:{DailyForecasts:[]},id:""},currWeather:{},weeklyWeather:{},favorites:[],error:!1},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(xe.a)(Object(xe.a)({},e),{},{loading:!0,error:!1});case g:return Object(xe.a)(Object(xe.a)({},e),{},{city:t.payload,error:!1});case S:return Object(xe.a)(Object(xe.a)({loading:!1},e),{},{city:t.payload,error:!0});case x:return Object(xe.a)(Object(xe.a)({},e),{},{loading:!0,error:!1});case y:return Object(xe.a)(Object(xe.a)({},e),{},{error:!1,currWeather:t.payload});case p:return Object(xe.a)(Object(xe.a)({},e),{},{currWeather:t.payload,error:!0});case w:return Object(xe.a)(Object(xe.a)({},e),{},{loading:!0,error:!1});case C:return Object(xe.a)(Object(xe.a)({},e),{},{error:!1,weeklyWeather:t.payload});case E:return Object(xe.a)(Object(xe.a)({},e),{},{weeklyWeather:t.payload,error:!0});case N:return Object(xe.a)(Object(xe.a)({},e),{},{location:{city:e.city,currWeather:e.currWeather,weeklyWeather:e.weeklyWeather,id:e.city.Key}});case T:return t.payload.id,Object(xe.a)(Object(xe.a)({},e),{},{favorites:[].concat(Object(me.a)(e.favorites),[t.payload])});case F:return Object(xe.a)(Object(xe.a)({},e),{},{favorites:Object(me.a)(e.favorites.filter((function(e){return e.id!==t.payload.id})))});default:return e}},ve=Object(fe.b)({weather:pe}),ge=r(64),Se=Object(fe.c)(ve,Object(fe.a)(ge.a));i.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(o.a,{store:Se,children:Object(b.jsx)(Oe,{})})}),document.getElementById("root"))}},[[87,1,2]]]);
//# sourceMappingURL=main.73c0cd67.chunk.js.map